<html lang="fr">
  <head>
    <title>Toads and Frogs</title>
    <meta charset="utf-8">
  <link rel="stylesheet" href="../css/toadsfrogs.css" />
  <script src="../javascript/coffee-script.js"></script>
  <script src="../javascript/jquery.min.js"></script>
  </head>
  <body>
	  <p>Dans la steppe, vivent deux sortes de chevaux: Les «blancs» 
	  qui ne peuvent aller que vers la droite, et les «noirs» qui 
	  ne peuvent aller que vers la gauche. Chaque cheval peut 
	  <ul>
		  <li>Ou bien aller vers la case vide qui est devant lui;</li>
		  <li>Ou bien sauter par-dessus un cheval de l'autre couleur, à condition que la case suivante soit vide.</li>
	  </ul>
	  Le premier joueur qui ne peut plus bouger un de ses chevaux, a perdu.
	  </p>
	  <table>
		  <tr>
			  <td class="B"></td>
			  <td class="B"></td>
			  <td class="B"></td>
			  <td class="O"></td>
			  <td class="O"></td>
			  <td class="N"></td>
			  <td class="N"></td>
			  <td class="N"></td>
		  </tr>
	  </table>
	  <h3>C'est aux <span class="joueur">blancs</span> de jouer.</h3>
	  
<script type="text/coffeescript">
joueurs = ['blancs','noirs']
joueur = 0
$ ->
	$("td").on "click", ->
		if $(this).hasClass('B') 
			if joueur is 0
				if $(this).next().hasClass('O')
					$(this).next().removeClass('O').addClass('B')
					$(this).removeClass('B').addClass('O')
					joueur = 1
				else if $(this).next().hasClass('N') and $(this).next().next().hasClass('O')
					$(this).next().next().removeClass('O').addClass('B')
					$(this).removeClass('B').addClass('O')
					joueur = 1
		if $(this).hasClass('N') 
			if joueur is 1
				if $(this).prev().hasClass('O')
					$(this).prev().removeClass('O').addClass('N')
					$(this).removeClass('N').addClass('O')
					joueur = 0
				else if $(this).prev().hasClass('B') and $(this).prev().prev().hasClass('O')
					$(this).prev().prev().removeClass('O').addClass('N')
					$(this).removeClass('N').addClass('O')
					joueur = 0
		$(".joueur").text joueurs[joueur]

</script>

  </body>
</html>
