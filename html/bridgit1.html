<html>
  <head>
    <title>Bridg-it</title>
    <meta charset="utf-8">
  <link rel="stylesheet" href="../css/bridgit.css" />
  <script src="../javascript/coffee-script.js"></script>
  <script src="../javascript/jquery.min.js"></script>
  </head>
  <body>
	  <p>Ce jeu oppose deux joueurs (des opérateurs de télécommunication) :
	  <ul>
		  <li>L'opérateur <em>rouge.fr</em> souhaite établir un réseau de fibres optiques (en rouge) entre le bord gauche et le bord droit du circuit ci-dessous.</li>
		  <li>L'opérateur <em>Bleu Telecom</em> souhaite empêcher son concurrent, en coupant les gaines (en bleu) destinées à poser les fibres optiques, de compléter ce réseau.</li>
	  </ul>
	  Chacun son tour, un joueur, ou bien rajoute une fibre optique (transforme du bleu en rouge), ou bien enlève du bleu pour qu'il ne soit plus jouable. 
	  Si, à un moment, il y a un circuit continu (sans interruption) rouge allant de gauche à droite, les rouges ont gagné. Si, 
	  à la fin du jeu, il n'y a aucun tel circuit, les bleus ont gagné. Les rouges commencent.
	  </p>
	  <table>
		  <tr>
			  <td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
		  </tr>
		  <tr>
			  <td><div class="v r"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v r"></div></td><td></td>
		  </tr>
		  <tr>
			  <td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
		  </tr>
		  <tr>
			  <td><div class="v r"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v r"></div></td><td></td>
		  </tr>
		  <tr>
			  <td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
		  </tr>
	  </table>
	  
	  <h3>C'est au joueur <span id="joueur" class="rouge">Rouge</span> de jouer</h3>
	  
<script type="text/coffeescript">
joueurs = ['bleu','rouge']
joueur = 1
$ ->
	$(".h, .v").on "click", ->
		if $(this).hasClass 'b'
			$(this).removeClass('b')
			if joueur is 1
				$(this).addClass('r')
			joueur = 1-joueur
			$("#joueur").toggleClass("bleu").toggleClass("rouge")
			$("#joueur").text joueurs[joueur]
</script>


  </body>
</html>
