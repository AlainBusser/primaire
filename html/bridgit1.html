<html>
  <head>
    <title>Bridg-it</title>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.3.1/coffee-script.min.js"></script>
    <style>
		table { border: 3px ridge brown; background-color: lightgray; padding: 1em; }
		.s { width: 2em; height: 2.2em; border: 1px solid black; border-radius: 50%; background-color: white; }
		.b { background-color: blue; }
		.r { background-color: red; }
		.rouge { color: red; }
		.bleu { color: blue; }
		.h { width: 4em; height: 0.4em; margin-left: -0.2em; margin-right: -0.2em;}
		.v { width: 0.4em; height: 4em; margin-top: -0.2em; margin-bottom: -0.2em; margin-left: 0.8em;}
    </style>
  </head>
  <body>
	  <p>Ce jeu oppose deux joueurs (des opérateurs de télécommunication) :
	  <ul>
		  <li>L'opérateur <em>rouge.fr</em> souhaite établir un réseau de fibres optiques (en rouge) entre le bord gauche et le bord droit du circuit ci-dessous.</li>
		  <li>L'opérateur <em>Bleu Telecom</em> souhaite empêcher son concurrent, en coupant les gaines (en bleu) destinées à poser les fibres optiques, de compléter ce réseau.</li>
	  </ul>
	  Chacun son tour, un joueur, ou bien rajoute une fibre optique (transforme du bleu en rouge), ou bien enlève du bleu pour qu'il ne soit plus jouable. 
	  Si, à un moment, il y a un circuit continu (sans interruption) rouge allant de gauche à droite, les rouges ont gagné. Si, 
	  à la fin du jeu, il n'y a aucun tel circuit, les bleus ont gagné. Les rouges commencent.
	  </p>
	  <table>
		  <tr>
			  <td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
		  </tr>
		  <tr>
			  <td><div class="v r"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v r"></div></td><td></td>
		  </tr>
		  <tr>
			  <td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
		  </tr>
		  <tr>
			  <td><div class="v r"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v b"></div></td><td></td>
			  <td><div class="v r"></div></td><td></td>
		  </tr>
		  <tr>
			  <td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
			  <td><div class="h b"></div></td><td class="s"></td>
		  </tr>
	  </table>
	  
	  <h3>C'est au joueur <span id="joueur" class="rouge">Rouge</span> de jouer</h3>
	  
<script type="text/coffeescript">
joueurs = ['bleu','rouge']
joueur = 1
$ ->
	$(".h, .v").on "click", ->
		if $(this).hasClass 'b'
			$(this).removeClass('b')
			if joueur is 1
				$(this).addClass('r')
			joueur = 1-joueur
			$("#joueur").toggleClass("bleu").toggleClass("rouge")
			$("#joueur").text joueurs[joueur]
</script>


  </body>
</html>
