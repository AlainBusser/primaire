<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<html lang="fr"><head>
<title>Poursuite</title>
<script type="text/javascript">
nombre = 0;
nbfinal = 20;
    function Raz() {
        nbfinal = Math.ceil(Math.random()*100)+20;
        document.getElementById("narr").innerHTML = nbfinal;
        document.getElementById("narr2").innerHTML = nbfinal;
        document.getElementById("fleurs").innerHTML = '';
    }
joueur = "A";
autre = { "A": "B", "B": "A" };
col = { "A": "blue", "B": "red" };
function plus(pas) {
    if (nombre < nbfinal) {
        nombre += pas;
        if (nombre >= nbfinal) { alert("Le joueur "+joueur+" a gagné; relancer le navigateur pour une nouvelle partie"); };
        document.getElementById("nb").innerHTML = nombre;
        joueur = autre[joueur];
        document.getElementById("player").innerHTML = joueur.fontcolor(col[autre[joueur]]);
        var texte = "";
        for (var n=0; n<pas; n++) { texte  += "•"; } 
        document.getElementById("fleurs").innerHTML += texte.fontcolor(col[joueur]);
    }
}
</script>
<style type="text/css">
	body { font-size: 80%; }
    #nb { color: red; }
    #narr, #narr2 { color: darkGreen; }
    button { font-size: 320%; }
    h2 { font-family: monospace; font-weight: normal}
    #fleurs { word-wrap: break-word; font-size: 400%; text-shadow: 0.2em 0.1em 0.3em rgba(0,0,0,0.3);
		border: 3px outset gray; min-height: 1em; background-color: lightgreen; }
</style>
</head>
<body onLoad='Raz();'>
<h1>Le jeu de la poursuite</h1>
<h2>Chaque joueur, à son tour, pose 1, 2 ou 3 billes sur la table. 
Il y a actuellement <span id="nb">0</span> billes sur la table. Le but est d'arriver à <span id="narr"> billes</span>. 
Le premier qui remplit la table (au moins <span id="narr2"> 
</span> billes sur la table) a gagné. C'est au joueur <span id="player">A</span> de jouer.</h2>
<button id="p1" onClick="plus(1);">+ •</button>
<button id="p2" onClick="plus(2);">+ ••</button>
<button id="p3" onClick="plus(3);">+ •••</button>
<div id="fleurs"></div>
</body>
</html>
